{"version":3,"sources":["admin.js","contributors.js","main.js","userProfileSection.js","postAceInit.js","aceInitialized.js","handleClientMessage.js","helper.js","shared.js","syncData.js"],"names":["exports","moduleList","documentReady","hooks","context","cb","socket","loc","document","location","port","protocol","url","hostname","pathComponents","pathname","split","baseURL","slice","length","join","resource","substring","room","io","connect","path","on","data","shared","setFormData","$","getFormData","emit","alert","console","log","each","index","value","append","pad_users_data","userId","email","username","createDate","last_seen_date","verifiedDate","pad","this","contributors","getHtmlOfUsersList","img","anonymous_handler","about","homepage","seenStatus","style","undefined","getValidUrl","increaseToOnlineAnonymous","selector_on","anonymouseCount","attr","ids_data_array","indexOf","push","new_anonymouseCount","parseInt","children","text","decreaseFromOnlineAnonymous","grep","remove","increaseToOfflineAnonymous","selector_off","ids_data","createOfflineAnonymousElement","userElement","userListHtml","offline_list_selector","user_selector","insertBefore","prepend","moveOnlineUserToOffline","createHTMLforUserList","total","online","padId","userVerify","html","borderStyle","reverse","key","increaseUserFromList","$image","prependTo","hide","slideDown","decreaseUserFromList","animate","opacity","selector_user","appendTo","image_url","Date","getTime","css","background-position","background-image","background-repeat","background-size","manageOnlineOfflineUsers","all_users_list","onlineUsers","currentUserId","lastPage","online_list_selector","display","e","userName","imageUrl","margin-top","error","getCustomDate","selector_offlines_date","ids_data_off_array","createOnlineUserElementInUserList","user","titleOfContributors","insertAfter","isThereOnlineAnonymous","selector","checkUserExistInOnlineAnonymous","createOnlineAnonymousElement","removeUserElementInUserList","paginateContributors","ep_profile_user_list_container_pagination","result","profileForm","showModal","addClass","setTimeout","focus","hideFormModalOverlay","removeClass","handleOnCloseOverlay","getUserId","getPadId","$form","msg","localStorage","setItem","innerdocbody","contents","find","off","removeEventListener","ep_profile_modalForm_name","includes","getItem","ep_profile_modalForm_about_yourself","ep_profile_modalForm_homepage","messageChatText","target","time","message","type","action","collabClient","sendMessage","unindexed_array","serializeArray","indexed_array","map","n","i","name","resetModal","show","initModal","clientVars","modal","tmpl","current_fs","next_fs","previous_fs","animating","sendFormDataToServer","submitHandle","fd","FormData","files","ajax","contentType","processData","[object Object]","helper","refreshLoadingImage","xhr","refreshUserImage","replace","status","gritter","add","title","sticky","class_name","response","uploadImg","val","userLogin","nextHandler","currentSection","border","loginByEmailAndUsernameWithoutValidation","userEmail","isEmail","oldText","sendEmailVerification","userLink","IsValid","nextSelection","select","keyCode","preventDefault","next","click","parent","prev","resetAllProfileImage","URL","createObjectURL","allEventListener","event","which","usersProfileSection","initiate","initiateListeners","avatarListerner","showGeneralOverlay","hideGeneralOverlay","href","userIdParam","postAceInit","hook","updateUserInfo","colorId","window","user_status","hasClass","page","pageLoaded","getConnectedUsers","verificationStatus","dummy","createElement","body","appendChild","execCommand","removeChild","ep_profile_modal","syncData","resetProfileModalFields","userLogout","loginByEmailAndUsername","aceInitialized","element","eventName","eventHandler","addEventListener","attachEvent","bindEvent","trigger","usersListHTML","contributed_authors_count","verified","handleClientMessage","handleClientMessage_USER_NEWINFO","payload","handleClientMessage_USER_LEAVE","handleClientMessage_CUSTOM","current_user_id","totalUserCount","refreshGeneralImage","logoutCssFix","resetGeneralFields","online_anonymous_selector","syncAllFormsData","syncGeneralFormsData","avatar","margin","box-shadow","background-color","rocketChatOnlineUser","scrollDownToLastChatText","$element","scrollTop","scrollHeight","duration","queue","test","getMonthName","monthNumber","sendSignOutMessage","addTextChatMessage","authorClass","c","charCodeAt","minutes","getMinutes","hours","getHours","suggestData","isUsername","newUrl","decodeURIComponent","trim","getCustomeFormatDate","date","usernameBox"],"mappings":"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","file":"ep.profile.modal.mini.js","sourcesContent":["// var shared = require('../shared');\n\nconst documentReady = (() => {\n  const documentReady = (hooks, context, cb) => {\n   \n    let socket;\n    const loc = document.location;\n    const port = loc.port == '' ? (loc.protocol == 'https:' ? 443 : 80) : loc.port;\n    const url = `${loc.protocol}//${loc.hostname}:${port}/`;\n    const pathComponents = location.pathname.split('/');\n    // Strip admin/plugins\n    const baseURL = `${pathComponents.slice(0, pathComponents.length - 2).join('/')}/`;\n    const resource = `${baseURL.substring(1)}socket.io`;\n\n    const room = `${url}pluginfw/admin/ep_profile_modal`;\n\n    let changeTimer;\n\n\n    switch (context){\n      case \"admin/ep_profile_modal\" : {\n        // connect \n        socket = io.connect(room, {path: `${baseURL}socket.io`, resource});\n        socket.on('load-settings-result', (data) => {\n          shared.setFormData($('#settings-form'), data);\n        });\n\n        $('#save-settings').on('click', () => {\n          const data = shared.getFormData($('#settings-form'));\n          socket.emit('save-settings', data);\n          alert('Succesfully saved.');\n        });\n\n        socket.emit('load-settings');\n        break;\n\n      }\n      case \"admin/ep_profile_modal_analytics\" :{\n        socket = io.connect(room, {path: `${baseURL}socket.io`, resource});\n \n\n        socket.on('load-pads-result', (data) => {\n          console.log(\"load-pads\",data);\n          $.each(data, function(index,value){\n            $('#pads').append(`<option value=\"${value}\">${value}</option>`)\n          })\n       \n        });\n        socket.on('load-analytics-result', (data) => {\n          console.log(\"load-analytics\",data);\n          // $.each(data.email_contributed_users, function(index,value){\n          //   $('#users').append(`\n          //   <tr>\n          //     <td>${value.email}</td>\n          //     <td>${value.data.created_at_date}</td>\n          //     <td>-</td>\n          //   </tr>\n          //   `)\n          // })\n\n          $.each(data.pad_users_data, function(index,value){\n            if(value.userId){\n              $('#users').append(`\n              <tr style=\"height: 0;\">\n                <td>${value.email || value.userId}</td>\n                <td>${value.username}</td>\n                <td>${value.createDate}</td>\n                <td>${value.last_seen_date}</td>\n                <td>${value.verifiedDate || \"-\"}</td>\n                <td>${(value.verified) ? \"Verified\" : \"unconfirmed\"}</td>\n              </tr>\n              `)\n            }\n\n          })\n\n        });\n        \n\n        $('#pads').on('change', function() {\n          socket.emit('load-analytics',{pad:this.value});\n\n          \n        });\n\n        socket.emit('load-pads');\n        break;\n\n      }\n      default : {\n        return [];\n      }\n\n    }\n\n  };\n  return documentReady;\n})();\n","// var shared = require('../shared');\n\n\nconst contributors = (() => {\n  const defaultImg = '../static/plugins/ep_profile_modal/static/dist/img/user.png';\n\n  const createHTMLforUserList = function (total, online, padId, userVerify) { // generate avatar too\n    let html = \"<div id='usersIconList' class='ep_profile_inlineAvatars'>\";\n    let style;\n    let borderStyle = '';\n    $.each(online.reverse(), (key, value) => {\n      style = `background: url(/static/getUserProfileImage/${value.userId}/${padId}) no-repeat 50% 50% ; background-size : 28px;background-color: #fff;`;\n      // if (verified_users && verified_users.length && verified_users !== 'null' && verified_users !== null) {\n      //   if (verified_users.indexOf(value.userId) == -1) { borderStyle = ''; } else { borderStyle = 'box-shadow: 0px 0px 1px 1px rgba(38,121,255,1);margin: 1px;'; }\n      // }\n      if(userVerify) { borderStyle = 'box-shadow: 0px 0px 1px 1px rgba(38,121,255,1);margin: 1px;'; } else  { borderStyle = ''; } \n\n      style += borderStyle;\n      html += `<div class='avatar' data-userId=\"${value.userId}\" data-id=\"user_${value.userId}\"  id=\"user_${value.userId}\" ><div data-userId=\"${value.userId}\"  class='avatarImg' style='${style}' data-id=\"user_${value.userId}\"></div></div>`;\n    });\n    html += ' </div>';\n    return `${html}<span class='slash_profile'>⧸</span><span id='userlist_count' class='userlist_count'>${total}</span>` +\n\t\t\t'<input  value=\\'Share\\'  id=\\'ep_profile_modal_share\\' type=\\'button\\' class=\\'ep_profile_modal_share\\'>';\n  };\n\n  const increaseUserFromList = function (userId, padId) {\n    const style = `background: url(/static/getUserProfileImage/${userId}/${padId}) no-repeat 50% 50% ; background-size : 26px;background-color: #fff;`;\n\n\n    if (!$(`.avatar[data-id=\"user_${userId}\"]`).length) {\n      const $image = $(`<div class='avatar' data-userId=\"${userId}\"  data-id=\"user_${userId}\" id=\"user_${userId}\" ><div class='avatarImg' data-userId=\"${userId}\"  data-id=\"user_${userId}\" style='${style}'></div></div>`);\n      $image.prependTo('#usersIconList');\n      $image.hide().slideDown(200);\n    }\n  };\n\n  const decreaseUserFromList = function (userId, padId) {\n    $(`.avatar[data-id=\"user_${userId}\"]`).animate({opacity: 0}, 1000, 'linear', function () {\n      $(this).remove();\n    }\n    );\n\n    const selector_user = $(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`);\n    if (selector_user.length) {\n      moveOnlineUserToOffline(selector_user);\n      // selector_user.animate({opacity: 0}, 1000,\"linear\",function()\n      // {\n      //     $(this).remove();\n      // }\n      // )\n    } else {\n      const selector_on = $('.ep_profile_user_row[data-id=\"user_list_on_Anonymous\"]');\n      if (selector_on.length) {\n        const selector_off = $('.ep_profile_user_row[data-id=\"user_list_off_Anonymous\"]');\n        decreaseFromOnlineAnonymous(selector_on, userId);\n        if (selector_off.length) {\n          increaseToOfflineAnonymous(selector_off, userId);\n        } else {\n          createOfflineAnonymousElement(userId, defaultImg, null, null, selector_user);\n        }\n      } else {\n        let offline_list_selector = $('#ep_profile_user_list_offline');\n        if (offline_list_selector.length) {\n          offline_list_selector.append($(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`));\n        } else {\n          const offline_container = $('#ep_profile_user_list_container_off');\n          offline_container.prepend(\"<div class='ep_profile_user_list_date_title' id='ep_profile_user_list_offline'> </div>\");\n          offline_list_selector = $('#ep_profile_user_list_offline');\n          $(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`).appendTo(offline_list_selector);\n        }\n        // $(\".ep_profile_user_row[data-id=\\\"user_list_\"+userId+\"\\\"]\").appendTo(\"#ep_profile_user_list_container_off\")\n      }\n    }\n\n    // user img update\n    const image_url = `/static/getUserProfileImage/${userId}/${padId}?t=${new Date().getTime()}`;\n    const user_selector = $(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`);\n    if (user_selector.length) {\n      user_selector.children('.ep_profile_user_img').css({'background-position': '50% 50%',\n        'background-image': `url(${image_url})`, 'background-repeat': 'no-repeat', 'background-size': '69px'});\n    }\n  };\n\n  const paginateContributors = function(all_users_list,onlineUsers,currentUserId,lastPage){\n    \n    const ep_profile_user_list_container_pagination = $('#ep_profile_user_list_container_pagination');\n    if(lastPage){\n      $(\"#ep_profile_modal_load_more_contributors\").css({\"display\":\"none\"})\n    }\n    $.each(all_users_list, (key, value) => {\n      const result = $.grep(onlineUsers, (e) => e.userId == value.userId);\n\n      if (value.last_seen_date !== '' && value.userName != 'Anonymous') {\n        var userListHtml = getHtmlOfUsersList(\n          value.userId, value.userName,\n          value.imageUrl, false, value.about, value.homepage, \n          (result.length) ? 'Online' : shared.getCustomDate(value.last_seen_date) \n        );\n  \n        ep_profile_user_list_container_pagination.append(userListHtml);\n    \n      } \n\n      if (result.length) { // online\n        if (value.userName == 'Anonymous') {\n          const selector_on = $('.ep_profile_user_row[data-id=\"user_list_on_Anonymous\"]');\n\n          if (selector_on.length) {\n            increaseToOnlineAnonymous(selector_on, value.userId);\n          } else {\n            var userListHtml = getHtmlOfUsersList(value.userId, value.userName, value.imageUrl, 'on_Anonymous', value.about, value.homepage, 'Online');\n            ep_profile_user_list_container_pagination.append(userListHtml);\n          }\n          if (currentUserId == value.userId) { $(\".ep_profile_user_row[data-id='user_list_on_Anonymous']\").css({'margin-top': '28px'}); } // design\n        }\n      }\n      \n\n    })\n\n    // just for anonymouse to be end of list\n    $.each(all_users_list, (key, value) => {\n      // if (value.userId != currentUserId){\n      const result = $.grep(onlineUsers, (e) => e.userId == value.userId);\n      if (!result.length) { // offline\n        if (value.userName == 'Anonymous') {\n          const selector_off = $('.ep_profile_user_row[data-id=\"user_list_off_Anonymous\"]');\n          if (selector_off.length) {\n            const anonymouseCount = selector_off.attr('data-anonymouseCount');\n            const new_anonymouseCount = parseInt(anonymouseCount) + 1;\n\n            const ids_data_off = selector_off.attr('data-user-ids');\n            const ids_data_off_array = ids_data_off.split(',');\n            ids_data_off_array.push(value.userId);\n            selector_off.attr('data-user-ids', ids_data_off_array.join(','));\n\n            selector_off.attr('data-anonymouseCount', new_anonymouseCount);\n            selector_off.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username').text(`Anonymous ×${new_anonymouseCount}`);\n          } else {\n            // createOfflineAnonymousElement(value.userId , value.imageUrl,value.about,value.homepage,)\n            const userListHtml = getHtmlOfUsersList(value.userId, 'Anonymous', value.imageUrl, 'off_Anonymous', value.about, value.homepage);\n            ep_profile_user_list_container_pagination.append(userListHtml);\n\n          }\n        }\n      }\n    });\n  }\n  const manageOnlineOfflineUsers = function (all_users_list, onlineUsers, currentUserId , lastPage) {\n    const online_list_selector = $('#ep_profile_user_list_container');\n    const offline_list_selector = $('#ep_profile_user_list_container_off');\n    if(lastPage){\n      $(\"#ep_profile_modal_load_more_contributors\").css({\"display\":\"none\"})\n    }else{\n      $(\"#ep_profile_modal_load_more_contributors\").css({\"display\":\"block\"})\n    }\n    //offline_list_selector.empty();\n    $.each(all_users_list, (key, value) => {\n      // if (value.userId != currentUserId){\n      const result = $.grep(onlineUsers, (e) => e.userId == value.userId);\n      if (result.length) { // online\n        if (value.userName == 'Anonymous') {\n          const selector_on = $('.ep_profile_user_row[data-id=\"user_list_on_Anonymous\"]');\n\n          if (selector_on.length) {\n            increaseToOnlineAnonymous(selector_on, value.userId);\n          } else {\n            var userListHtml = getHtmlOfUsersList(value.userId, value.userName, value.imageUrl, 'on_Anonymous', value.about, value.homepage, 'Online');\n            online_list_selector.append(userListHtml);\n          }\n          if (currentUserId == value.userId) { $(\".ep_profile_user_row[data-id='user_list_on_Anonymous']\").css({'margin-top': '28px'}); } // design\n        } else {\n          if (!$(`.ep_profile_user_row[data-id=\"user_list_${value.userId}\"]`).length) {\n            var userListHtml = getHtmlOfUsersList(value.userId, value.userName, value.imageUrl, false, value.about, value.homepage, 'Online');\n            try {\n              online_list_selector.append(userListHtml);\n            } catch (error) {\n              console.log(error);\n            }\n          } else if (currentUserId == value.userId) {\n            $(`.ep_profile_user_row[data-id=\"user_list_${value.userId}\"]`).prependTo(online_list_selector);\n            // $(\".ep_profile_user_list_date_title_header\").prependTo(online_list_selector)\n          } else {\n            $(`.ep_profile_user_row[data-id=\"user_list_${value.userId}\"]`).appendTo(online_list_selector);\n          }\n          if (currentUserId == value.userId) { $(`.ep_profile_user_row[data-id=\"user_list_${value.userId}\"]`).css({'margin-top': '28px'}); } // design\n        }\n      } else { // offline\n        if (value.last_seen_date !== '') {\n          if (value.userName != 'Anonymous') {\n            if (!$(`.ep_profile_user_row[data-id=\"user_list_${value.userId}\"]`).length) {\n              var userListHtml = getHtmlOfUsersList(value.userId, value.userName, value.imageUrl, false, value.about, value.homepage, shared.getCustomDate(value.last_seen_date));\n              const selector_offlines_date = $('#ep_profile_user_list_offline');\n              if (selector_offlines_date.length) {\n                selector_offlines_date.append(userListHtml);\n              } else {\n                $('#ep_profile_user_list_container_off').append(`<div class='ep_profile_user_list_date_title' id='ep_profile_user_list_offline'>   ${userListHtml}</div>`);\n              }\n            } else {\n              $(`.ep_profile_user_row[data-id=\"user_list_${value.userId}\"]`).appendTo(offline_list_selector);\n            }\n          }\n        }\n      }\n\n\n      // }\n    });\n\n    // just for anonymouse to be end of list\n    $.each(all_users_list, (key, value) => {\n      // if (value.userId != currentUserId){\n      const result = $.grep(onlineUsers, (e) => e.userId == value.userId);\n      if (!result.length) { // offline\n        if (value.userName == 'Anonymous') {\n          const selector_off = $('.ep_profile_user_row[data-id=\"user_list_off_Anonymous\"]');\n          if (selector_off.length) {\n            const anonymouseCount = selector_off.attr('data-anonymouseCount');\n            const new_anonymouseCount = parseInt(anonymouseCount) + 1;\n\n            const ids_data_off = selector_off.attr('data-user-ids');\n            const ids_data_off_array = ids_data_off.split(',');\n            ids_data_off_array.push(value.userId);\n            selector_off.attr('data-user-ids', ids_data_off_array.join(','));\n\n            selector_off.attr('data-anonymouseCount', new_anonymouseCount);\n            selector_off.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username').text(`Anonymous ×${new_anonymouseCount}`);\n          } else {\n            // createOfflineAnonymousElement(value.userId , value.imageUrl,value.about,value.homepage,)\n            const userListHtml = getHtmlOfUsersList(value.userId, 'Anonymous', value.imageUrl, 'off_Anonymous', value.about, value.homepage, shared.getCustomDate(value.last_seen_date));\n            const selector_offlines_date = $('#ep_profile_user_list_offline');\n            if (selector_offlines_date.length) {\n              selector_offlines_date.append(userListHtml);\n            } else {\n              $('#ep_profile_user_list_container_off').append(`<div class='ep_profile_user_list_date_title' id='ep_profile_user_list_offline'>  ${userListHtml}</div>`);\n            }\n          }\n        }\n      }\n    });\n  };\n\n  var getHtmlOfUsersList = function (userId, username, img, anonymous_handler, about, homepage, seenStatus) {\n    about = about || '';\n    homepage = homepage || '';\n    let style;\n    if (anonymous_handler && username == 'Anonymous') {\n      style = `background: url(${img}) no-repeat 50% 50% ; background-size : 69px ;`;\n\n      return (`<div  data-user-ids='${userId}' data-anonymouseCount='1' data-id='user_list_${anonymous_handler}' class='ep_profile_user_row'>` +\n\t\t\t\t\t`<div style='${style}' class='ep_profile_user_img' id='ep_profile_user_img'></div>` +\n\t\t\t\t\t'<div class=\\'ep_profile_user_list_profile_userDesc\\'>' +\n\t\t\t\t\t\t\t`<div class='ep_profile_user_list_username'><div class='ep_profile_user_list_username_text' id='ep_profile_users_profile_name'  >${username}</div>` +\n\t\t\t\t\t\t\t`<div class='ep_profile_contributor_status'>${seenStatus}</div>` +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t`<p class='ep_profile_user_list_profile_desc' id='ep_profile_users_profile_desc'>${about}</p>` +\n\t\t\t\t\t'</div> </div>');\n    } else {\n      style = `background: url(${img}) no-repeat 50% 50% ; background-size : 69px ;`;\n      return (`<div data-id='user_list_${userId}' class='ep_profile_user_row'>` +\n\t\t\t\t\t`<div style='${style}' class='ep_profile_user_img'  id='ep_profile_user_img'></div>` +\n\t\t\t\t\t'<div class=\\'ep_profile_user_list_profile_userDesc\\'>' +\n\t\t\t\t\t\t\t`<div class='ep_profile_user_list_username'><div class='ep_profile_user_list_username_text' id='ep_profile_users_profile_name'>${username}</div>` +\n\t\t\t\t\t\t\t`<a target='_blank' style='${(homepage == \"\" || homepage == \"#\" || homepage == undefined || homepage == null ) ? \"display : none\" : \"\"}'  class='ep_profile_contributor_link_container' title='${shared.getValidUrl(homepage)}' href='${shared.getValidUrl(homepage)}'> </a>` +\n\t\t\t\t\t\t\t`<div class='ep_profile_contributor_status'>${seenStatus}</div>` +\n\t\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t\t`<p class='ep_profile_user_list_profile_desc' id='ep_profile_users_profile_desc'>${about}</p>` +\n\t\t\t\t\t'</div> </div>');\n    }\n  };\n\n\n  const increaseToOnlineAnonymous = function (selector_on, userId) {\n    const anonymouseCount = selector_on.attr('data-anonymouseCount');\n    const ids_data = selector_on.attr('data-user-ids');\n    const ids_data_array = ids_data.split(',');\n    if (ids_data_array.indexOf(userId) == -1) {\n      ids_data_array.push(userId);\n      selector_on.attr('data-user-ids', ids_data_array.join(','));\n      const new_anonymouseCount = parseInt(anonymouseCount) + 1;\n      selector_on.attr('data-anonymouseCount', new_anonymouseCount);\n      selector_on.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username')\n          .children('.ep_profile_user_list_username_text').text(`Anonymous ×${new_anonymouseCount}`);\n    }\n  };\n\n  const decreaseFromOnlineAnonymous = function (selector_on, userId) {\n    const anonymouseCount = selector_on.attr('data-anonymouseCount');\n    const ids_data = selector_on.attr('data-user-ids');\n    let ids_data_array = ids_data.split(',');\n\n\n    ids_data_array = $.grep(ids_data_array, (value) => value != userId);\n\n\n    selector_on.attr('data-user-ids', ids_data_array.join(','));\n    const new_anonymouseCount = parseInt(anonymouseCount) - 1;\n    selector_on.attr('data-anonymouseCount', new_anonymouseCount);\n    if (new_anonymouseCount > 1) {\n      selector_on.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username')\n          .children('.ep_profile_user_list_username_text').text(`Anonymous ×${new_anonymouseCount}`);\n    } else {\n      selector_on.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username')\n          .children('.ep_profile_user_list_username_text').text('Anonymous');\n    }\n\n    if (new_anonymouseCount < 1) {\n      selector_on.remove();\n    }\n    return new_anonymouseCount;\n  };\n\n\n  const increaseToOfflineAnonymous = function (selector_off, userId) {\n    const anonymouseCount = selector_off.attr('data-anonymouseCount');\n    let ids_data = selector_off.attr('data-user-ids');\n\n    ids_data = $.grep(ids_data, (value) => value != userId);\n\n    selector_off.attr('data-user-ids', ids_data);\n    const new_anonymouseCount = parseInt(anonymouseCount) + 1;\n    selector_off.attr('data-anonymouseCount', new_anonymouseCount);\n    selector_off.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username').children('.ep_profile_user_list_username_text')\n        .text(`Anonymous ×${new_anonymouseCount}`);\n  };\n\n\n  // var decreaseFromOfflineAnonymous= function (selector_off,userId){\n  //     var anonymouseCount = selector_off.attr(\"data-anonymouseCount\")\n  //     var ids_data = selector_off.attr(\"data-user-ids\")\n\n  //     ids_data = $.grep(ids_data, function(value) {\n  //         return value != userId;\n  //       });\n\n  //     selector_off.attr(\"data-user-ids\",ids_data)\n  //     var new_anonymouseCount= parseInt(anonymouseCount)-1\n  //     selector_off.attr('data-anonymouseCount',new_anonymouseCount);\n  //     (new_anonymouseCount > 1) ? selector_off.children(\".ep_profile_user_username\").text(\"Anonymous ×\"+new_anonymouseCount) : selector_off.children(\".ep_profile_user_username\").text(\"Anonymous\");\n  //     return new_anonymouseCount\n  // }\n\n\n  const createOfflineAnonymousElement = function (userId, img, about, homepage, userElement) {\n    const userListHtml = getHtmlOfUsersList(userId, 'Anonymous', img, 'off_Anonymous', about, homepage, 'Today');\n    // $(\"#ep_profile_user_list_container_off\").append(userListHtml);\n    let offline_list_selector = $('#ep_profile_user_list_offline');\n    if (offline_list_selector.length) {\n      const user_selector = $(\".ep_profile_user_row[data-id='user_list_off_Anonymous']\"); // because need anonymous offline be last one\n      if (user_selector.length) {\n        userElement.insertBefore(user_selector);\n      } else {\n        offline_list_selector.append(userElement);\n      }\n    } else {\n      const offline_container = $('#ep_profile_user_list_container_off');\n      offline_container.prepend(\"<div class='ep_profile_user_list_date_title' id='ep_profile_user_list_offline'></div>\");\n      offline_list_selector = $('#ep_profile_user_list_offline');\n      offline_list_selector.append(userListHtml);\n    }\n  };\n\n\n  const createOnlineUserElementInUserList = function (userId, userName, img, currentUserId, user) {\n    const user_selector = $(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`);\n    if (!user_selector.length) {\n      const userListHtml = getHtmlOfUsersList(userId, userName, img, false, user.about, user.homepage, 'Online');\n      if (userId == currentUserId) { // it is owner\n        const titleOfContributors = $('#ep_profile_user_list_date_title');\n        if (titleOfContributors.length) {\n          $(userListHtml).insertAfter(titleOfContributors);\n        } else {\n          $('#ep_profile_user_list_container').prepend(userListHtml);\n        }\n      } else {\n        $('#ep_profile_user_list_container').append(userListHtml);\n      }\n    } else {\n      user_selector.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username').children('.ep_profile_user_list_username_text')\n          .text(userName);\n      user_selector.children('.ep_profile_user_img').css({'background-position': '50% 50%',\n        'background-image': `url(${img})`, 'background-repeat': 'no-repeat', 'background-size': '69px'});\n      // attr(\"src\",img);\n    }\n  };\n\n  const isThereOnlineAnonymous = function () {\n    const selector = $('.ep_profile_user_row[data-id=\"user_list_on_Anonymous\"]');\n    if (selector.length) { return selector; } else { return false; }\n  };\n  const checkUserExistInOnlineAnonymous = function (selector_on, userId) {\n    const ids_data = selector_on.attr('data-user-ids');\n    const ids_data_array = ids_data.split(',');\n    if (ids_data_array.indexOf(userId) == -1) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  const createOnlineAnonymousElement = function (userId, userName, imageUrl, user) {\n    const online_list_selector = $('#ep_profile_user_list_container');\n    const userListHtml = getHtmlOfUsersList(userId, userName, imageUrl, 'on_Anonymous', user.about, user.homepage, 'Online');\n    online_list_selector.append(userListHtml);\n  };\n\n  const moveOnlineUserToOffline = function (userElement) {\n    let offline_list_selector = $('#ep_profile_user_list_offline');\n    if (offline_list_selector.length) {\n      const user_selector = $(\".ep_profile_user_row[data-id='user_list_off_Anonymous']\"); // because need anonymous offline be last one\n      if (user_selector.length) {\n        userElement.insertBefore(user_selector);\n      } else {\n        offline_list_selector.append(userElement);\n      }\n    } else {\n      const offline_container = $('#ep_profile_user_list_container_off');\n      offline_container.prepend(\"<div class='ep_profile_user_list_date_title' id='ep_profile_user_list_offline'></div>\");\n      offline_list_selector = $('#ep_profile_user_list_offline');\n      offline_list_selector.append(userElement);\n    }\n\n    userElement.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username').children('.ep_profile_contributor_status').text('Last seen today');\n  };\n\n  const removeUserElementInUserList = function (userId) {\n    $(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`).remove();\n  };\n\n  return {\n    createHTMLforUserList,\n    increaseUserFromList,\n    decreaseUserFromList,\n    moveOnlineUserToOffline,\n    decreaseFromOnlineAnonymous,\n    increaseToOfflineAnonymous,\n    createOfflineAnonymousElement,\n    manageOnlineOfflineUsers,\n    increaseToOnlineAnonymous,\n    createOnlineUserElementInUserList,\n    isThereOnlineAnonymous,\n    checkUserExistInOnlineAnonymous,\n    createOnlineAnonymousElement,\n    removeUserElementInUserList,\n    paginateContributors,\n  };\n})();\n","// var shared = require('../shared');\n// var helper = require('../helper');\n\nconst profileForm = (() => {\n  const allEventListener= function(){\n    const padOuter = $('iframe[name=\"ace_outer\"]').contents();\n    const padInner = padOuter.find('iframe[name=\"ace_inner\"]');\n    const innerdocbody = padInner.contents().find('#innerdocbody');\n\n    innerdocbody.on(\"keypress\",function(e) {\n      showModal()\n    });\n    innerdocbody.on(\"mousedown\",function(event) {\n      if(event.which == 1){\n        showModal()\n      }\n    \n      \n      \n  });\n  }\n\n\n\n\n  const removeEventListener =function(){\n    const padOuter = $('iframe[name=\"ace_outer\"]').contents();\n    const padInner = padOuter.find('iframe[name=\"ace_inner\"]');\n    const innerdocbody = padInner.contents().find('#innerdocbody')\n    innerdocbody.off(\"keypress\");\n    innerdocbody.off(\"mousedown\");\n\n  }\n  const showModal = function () {\n    $('#ep_profile_formModal').addClass('ep_profile_formModal_show');\n    $('#ep_profile_formModal_overlay').addClass('ep_profile_formModal_overlay_show');\n    $('#ep_profile_formModal_overlay').css({display: 'block'});\n\n    setTimeout(() => { $('#ep_profile_modalForm_name').focus(); }, 1000);\n  };\n  const hideFormModalOverlay = function () {\n    $('#ep_profile_formModal_overlay').removeClass('ep_profile_formModal_overlay_show');\n    $('#ep_profile_formModal_overlay').css({display: 'none'});\n\n    handleOnCloseOverlay();\n  };\n  const handleOnCloseOverlay = function () {\n    const userId = pad.getUserId();\n    const padId = pad.getPadId();\n    const $form = $('#ep_profile_formModal_msform');\n    const data = getFormData($form);\n    const msg = {};\n    localStorage.setItem(\"formPassed\",\"yes\")\n    removeEventListener()\n    if (data.ep_profile_modalForm_name == '' || ['',null,undefined].includes(localStorage.getItem(\"formStatus\"))) { return false; }\n    // var message = {\n    //     type : 'ep_profile_modal',\n    //     action : \"ep_profile_modal_send_chat_message\" ,\n    //     userId :  userId,\n    //     data: data,\n    //     padId : padId\n    //     }\n    // pad.collabClient.sendMessage(message);  // Send the chat position message to the server\n    let text = `Please welcome ${data.ep_profile_modalForm_name}`;\n    if (data.ep_profile_modalForm_about_yourself !== '') { text += `, ${data.ep_profile_modalForm_about_yourself}`; }\n    if (data.ep_profile_modalForm_homepage !== '') {\n      const url = shared.getValidUrl(data.ep_profile_modalForm_homepage);\n      text += `, ${url}`;\n      // text += `, ${message.data.ep_profile_modalForm_homepage} `\n    }\n\n    msg.messageChatText = `${text}`;\n    msg.target = 'profile';\n    msg.userId = userId;\n    msg.time = new Date();\n\n    // shared.addTextChatMessage(msg);\n    const message = {\n      type: 'ep_rocketchat',\n      action: 'ep_rocketchat_sendMessageToChat_login',\n      userId,\n      data: msg,\n      padId,\n    };\n    pad.collabClient.sendMessage(message); // Send the chat position message to the server\n  };\n  const resetModal = function () {\n    const fieldsets = $('#ep_profile_formModal_msform fieldset');\n    fieldsets.each(function (index) {\n      if (index == 0) $(this).show(); else $(this).hide();\n    });\n  };\n  const getFormData = function ($form) {\n    const unindexed_array = $form.serializeArray();\n    const indexed_array = {};\n\n    $.map(unindexed_array, (n, i) => {\n      indexed_array[n.name] = n.value;\n    });\n\n    return indexed_array;\n  };\n  const initModal = function (clientVars) {\n    const modal = $('#ep_profile_formModal_script').tmpl(clientVars);\n    $('body').append(modal);\n\n    // jQuery time\n    let current_fs, next_fs, previous_fs; // fieldsets\n    let left, opacity, scale; // fieldset properties which we will animate\n    let animating; // flag to prevent quick multi-click glitches\n\n    $('#ep_profile_formModal_msform fieldset').on('keypress', function (e) {\n      if (e.keyCode == 13) {\n        // Cancel the default action on keypress event\n        e.preventDefault();\n        current_fs = $(this);\n        next_fs = $(this).next();\n        nextHandler(current_fs, next_fs);\n      }\n    });\n    $('.next').click(function () {\n      current_fs = $(this).parent();\n      next_fs = $(this).parent().next();\n      nextHandler(current_fs, next_fs);\n    });\n\n    $('.skip').click(function () {\n      if (animating) return false;\n      $('#ep_profile_modalForm_name').css({border: '1px solid gray'});\n\n      animating = true;\n\n      current_fs = $(this).parent();\n      next_fs = $(this).parent().next();\n\n      // activate next step on progressbar using the index of next_fs\n      // $(\"#progressbar li\").eq($(\"fieldset\").index(next_fs)).addClass(\"active\");\n\n      // show the next fieldset\n      current_fs.hide();\n      next_fs.show();\n      animating = false;\n    });\n\n\n    $('.close , #ep_profile_formModal_overlay , .ep_profile_formModal_topClose').click(() => {\n      $('#ep_profile_formModal').removeClass('ep_profile_formModal_show');\n\n      hideFormModalOverlay();\n\n      return false;\n    });\n    $('.previous').click(function () {\n      if (animating) return false;\n      animating = true;\n\n      current_fs = $(this).parent();\n      previous_fs = $(this).parent().prev();\n\n      // de-activate current step on progressbar\n      // $(\"#progressbar li\").eq($(\"fieldset\").index(current_fs)).removeClass(\"active\");\n      current_fs.hide();\n      previous_fs.show();\n      animating = false;\n    });\n\n    $('.submit').click(() => {\n      submitHandle();\n      return false;\n    });\n    $('.clear').click(function () {\n      shared.resetAllProfileImage($(this).attr('data-userId'), $(this).attr('data-padId'));\n    });\n\n    function sendFormDataToServer() {\n      const userId = pad.getUserId();\n      const padId = pad.getPadId();\n      const $form = $('#ep_profile_formModal_msform');\n      const data = getFormData($form);\n      const message = {\n        type: 'ep_profile_modal',\n        action: 'ep_profile_modal_info',\n        userId,\n        data,\n        padId,\n      };\n      pad.collabClient.sendMessage(message); // Send the chat position message to the server\n    }\n    function submitHandle() {\n      const userId = pad.getUserId();\n      const padId = pad.getPadId();\n      $('#ep_profile_formModal').removeClass('ep_profile_formModal_show');\n\n      uploadImg();\n      \n      hideFormModalOverlay();\n\n      sendFormDataToServer();\n\n      const username = $('#ep_profile_modalForm_name').val();\n\n      helper.userLogin({\n        email: $('#ep_profile_modalForm_email').val(),\n        username,\n      });\n      setTimeout(() => {\n        helper.refreshUserImage(userId, padId);\n      }, 2200);\n      // sync profile section to up\n    }\n\n\n    function nextHandler(current_fs, next_fs) {\n      if (animating) return false;\n\n      const currentSection = current_fs.attr('data-section');\n      localStorage.setItem(\"formStatus\",currentSection)\n      if (currentSection == 'name') {\n        if ($('#ep_profile_modalForm_name').val() == '') {\n          $('#ep_profile_modalForm_name').css({border: '1px solid red'});\n          return false;\n        }\n        var username = $('#ep_profile_modalForm_name').val();\n        $('#ep_profile_modalForm_name').css({border: '0px solid gray'});\n        // submit username once user input and press next\n        helper.userLogin({\n          username,\n        });\n        shared.loginByEmailAndUsernameWithoutValidation(username, '', false);\n      }\n      if (currentSection == 'email') {\n        const userEmail = $('#ep_profile_modalForm_email').val();\n        if (!shared.isEmail(userEmail) || userEmail == '') {\n          $('#ep_profile_modalForm_email').css({border: '1px solid red'});\n          return false;\n        }\n        var username = $('#ep_profile_modalForm_name').val();\n        shared.loginByEmailAndUsernameWithoutValidation(username, userEmail, true);\n        sendEmailVerification(userEmail, username);\n        $('#ep_profile_modalForm_email').css({border: '0px solid gray'});\n      }\n\n      if (currentSection == 'homepage') {\n        const userLink = $('#ep_profile_modal_homepage').val();\n        //console.log(shared.IsValid(userLink));\n        if (!shared.IsValid(userLink) || userLink == '') {\n          $('#ep_profile_modal_homepage').css({border: '1px solid red'});\n          return false;\n        }\n        $('#ep_profile_modal_homepage').css({border: '0px solid gray'});\n        sendFormDataToServer();\n      }\n\n      // if (currentSection == 'image') {\n      //   uploadImg();\n      // }\n\n\n      animating = true;\n      current_fs.hide();\n      if (next_fs.length) {\n        next_fs.show();\n\n        // focus handling\n        const nextSelection = next_fs.attr('data-section');\n        if (nextSelection == 'email') { $('#ep_profile_modalForm_email').focus().select(); }\n        if (nextSelection == 'homepage') { $('#ep_profile_modal_homepage').focus().select(); }\n        if (nextSelection == 'bio') { $('#ep_profile_modalForm_about_yourself').focus().select(); }\n      } else { // seems last fieldset\n        submitHandle();\n      }\n      animating = false;\n    }\n\n\n    function sendEmailVerification(email, username) {\n      var oldText = $(\"#ep_profile_modal_verification\").text()\n      $.ajax({\n        url: `/static/${pad.getPadId()}/pluginfw/ep_profile_modal/sendVerificationEmail/${pad.getUserId()}/${username}/${email}`,\n        type: 'get',\n        data: {},\n        contentType: false,\n        processData: false,\n        beforeSend() {\n          // setting a timeout\n          const image_url = '../static/plugins/ep_profile_modal/static/dist/img/loading.gif';\n\n          $('#ep_profile_modal_verification').text('Sending...');\n        },\n        error(xhr) { // if error occured\n          $('#ep_profile_modal_verification').text('Error');\n          setTimeout(() => {\n            $('#ep_profile_modal_verification').text(oldText);\n          }, 2000);\n        },\n        success(response) {\n          $('#ep_profile_modal_verification').text('Verification email has been sent.');\n          $('#ep_profile_modal_verification').attr('data-verification-status', 'true');\n        },\n\n      });\n    }\n\n\n    function uploadImg() {\n      const userId = pad.getUserId();\n      const fd = new FormData();\n      const files = $('#profile_file_modal')[0].files[0];\n      fd.append('file', files);\n      if (!files) return;\n      $.ajax({\n        url: `/static/${clientVars.padId}/pluginfw/ep_profile_modal/upload/${userId}`,\n        type: 'post',\n        data: fd,\n        contentType: false,\n        processData: false,\n        beforeSend() {\n          // setting a timeout\n\n          helper.refreshLoadingImage(userId, clientVars.padId);\n        },\n        error(xhr) { // if error occured\n          helper.refreshUserImage(userId, clientVars.padId);\n          $('#profile_modal_selected_image').attr('style', (i, style) => style && style.replace(/background-image[^;]+;?/g, ''));\n\n          switch (xhr.status) {\n            case 413:\n              $.gritter.add({\n                'title': 'Error',\n                'text': 'ep_profile_modal: image size is large.',\n                'sticky': true,\n                'class_name': 'error'\n              });\n                 // Take action, referencing xhr.responseText as needed.\n          }\n        },\n        success(response) {\n          helper.refreshUserImage(userId, clientVars.padId);\n\n          $('#profile_modal_selected_image').attr('style', (i, style) => style && style.replace(/background-image[^;]+;?/g, ''));\n        },\n\n      });\n    }\n\n\n    // upload image profile\n    $('#profile_file_modal').on('change', (e) => {\n      const files = $('#profile_file_modal')[0].files[0];\n\n      const url = URL.createObjectURL(files);\n      $('#profile_modal_selected_image').css({'background-position': '50% 50%',\n        'background-image': `url(${url})`, 'background-repeat': 'no-repeat', 'background-size': '64px'});\n    });\n  };\n\n\n  return {\n    showModal,\n    hideFormModalOverlay,\n    handleOnCloseOverlay,\n    resetModal,\n    getFormData,\n    initModal,\n    allEventListener,\n  };\n})();\n","// var shared = require('../shared');\n\nconst usersProfileSection = (() => {\n  const initiate = function (clientVars) {\n    const modal = $('#ep_profile_users_profile_script').tmpl(clientVars);\n    $('body').append(modal);\n    // $('#ep_profile_users_profile').addClass('ep_profile_formModal_show')\n  };\n\n  const initiateListeners = function () {\n\n\n    const avatarListerner = (userId)=>{\n      const padId = pad.getPadId();\n      $.ajax({\n        url: `/static/${padId}/pluginfw/ep_profile_modal/getUserInfo/${userId}`,\n        type: 'get',\n        data: {},\n        contentType: false,\n        processData: false,\n        beforeSend() {\n          const image_url = '../static/plugins/ep_profile_modal/static/dist/img/loading.gif';\n          $('#ep_profile_users_profile_userImage').css({'background-position': '50% 50%',\n            'background-image': `url(${image_url})`, 'background-repeat': 'no-repeat', 'background-size': '69px'});//, 'background-color': '#3873E0'\n          //$('#ep_profile_users_profile').removeClass('ep_profile_formModal_show');\n          $('#ep_profile_user_img').css({'background-position': '50% 50%',\n          'background-image': `url(${image_url})`, 'background-repeat': 'no-repeat', 'background-size': '69px'});\n          $('#ep_profile_users_profile_name').text(\"\");\n          $('#ep_profile_users_profile_desc').text(\"\");\n\n          $('#ep_profile_users_profile').addClass('ep_profile_formModal_show');\n          shared.showGeneralOverlay();\n\n\n        },\n        error(xhr) { // if error occured\n          $('#ep_profile_users_profile').removeClass('ep_profile_formModal_show');\n          shared.hideGeneralOverlay();\n        },\n        success(response) {\n          const image_url = `/static/getUserProfileImage/${userId}/${padId}?t=${new Date().getTime()}`;\n          let username = response.user.username;\n          if (username == null || username == '') { username = 'Anonymous'; }\n          const about = response.user.about || '';\n          const homepage = response.user.homepage || '';\n\n          $('#ep_profile_users_profile_name').text(username);\n          $('#ep_profile_users_profile_desc').text(about);\n          if (homepage ==\"\" ){\n            $('#ep_profile_users_profile_homepage').hide()\n          }else{\n            $('#ep_profile_users_profile_homepage').attr({href: shared.getValidUrl(homepage), target: '_blank'});\n          }\n  \n          $('#ep_profile_users_profile_userImage').css({'background-position': '50% 50%',\n            'background-image': `url(${image_url})`, 'background-repeat': 'no-repeat', 'background-size': '69px'});//, 'background-color': '#3873E0'\n          $('#ep_profile_user_img').css({'background-position': '50% 50%',\n            'background-image': `url(${image_url})`, 'background-repeat': 'no-repeat', 'background-size': '69px'});\n        },\n      });\n    }\n\n\n    $('#usersIconList').on('avatarClick',function(e,userIdParam){ // coming from external plugins\n      if (!userIdParam || (userIdParam.indexOf(\"a.\") < 0) ) return;\n      avatarListerner(userIdParam)\n    });\n\n    $('#usersIconList').on('click', '.avatar', function () {\n      const userId = $(this).attr('data-userId');\n      avatarListerner(userId)\n    });\n\n\n    $('#ep_profile_users_profile_close').on('click', () => {\n      $('#ep_profile_users_profile').removeClass('ep_profile_formModal_show');\n      shared.hideGeneralOverlay();\n    });\n  };\n\n  return {\n    initiate,\n    initiateListeners,\n  };\n})();\n","// var usersProfileSection = require('./userProfileSection/userProfileSection');\n// var shared = require('./shared');\n// var helper = require('./helper');\n// var profileForm = require('./profileForm/main');\n// var syncData = require('./syncData');\nconst __LOGOUT= '1';\nconst __LOGIN= '2';\n\n\nconst postAceInit = (() => {\n  const postAceInit = function (hook, context) {\n    // console.log(\"samir\",pad )\n    // console.log(\"samir\",pad.collabClient )\n    // console.log(\"samir\",pad.collabClient.getConnectedUsers())\n    // /static/getUserProfileImage/${clientVars.userId}?t=${clientVars.serverTimestamp}\n\n    usersProfileSection.initiateListeners();\n\n    $('#ep_profile_modal_save').on('click', () => {\n      const userId = pad.getUserId();\n      const padId = pad.getPadId();\n      const username = $('#ep_profile_modal-username');\n      const email = $('#ep_profile_modal-email');\n      const about = $('#ep_profile_modal-about');\n      const homepage = $('#ep_profile_modal-homepage');\n      // var pushNotification = $(\"#ep_profile_modal_push_notification\").checked;\n      // validations\n      if (username.val() == '') {\n        username.css({border: '1px solid red'});\n        return false;\n      }\n      username.css({border: '0'});\n\n      // const userEmail = email.val();\n      // if (!shared.isEmail(userEmail) || userEmail == '') {\n      //   email.css({border: '1px solid red'});\n      //   return false;\n      // }\n      // email.css({border: '0'});\n\n      // const userLink = homepage.val();\n      // if (!shared.IsValid(userLink) && userLink !== '') {\n      //   homepage.css({border: '1px solid red'});\n      //   return false;\n      // }\n      // homepage.css({border: 'unset'});\n\n      // validations\n\n      const $form = $('#ep_profile_modal_one');\n      const data = shared.getFormData($form);\n\n      const message = {\n        type: 'ep_profile_modal',\n        action: 'ep_profile_modal_info',\n        userId,\n        data,\n        padId,\n      };\n      pad.collabClient.sendMessage(message); // Send the chat position message to the server\n      pad.collabClient.updateUserInfo({\n        userId: padId,\n        name: username.val(),\n        colorId: '#b4b39a',\n      });\n\n      // //\n      if (window.user_status == 'login') {\n        if ($('#ep_profile_modal').hasClass('ep_profile_modal-show')) {\n          $('#ep_profile_modal').removeClass('ep_profile_modal-show');\n          shared.hideGeneralOverlay();\n        } else {\n          $('#ep_profile_modal').addClass('ep_profile_modal-show');\n\n          $('#online_ep_profile_modal_status').show();\n          $('#offline_ep_profile_modal_status').hide();\n\n          shared.showGeneralOverlay();\n        }\n      }\n      // else{\n      // \t($('#ep_profile_modal_ask').hasClass('ep_profile_modal-show'))?\n      // \t$('#ep_profile_modal_ask').removeClass('ep_profile_modal-show')\n      // \t:\n      // \t$('#ep_profile_modal_ask').addClass('ep_profile_modal-show')\n      // }\n    });\n\n    $('#userlist_count').on('click',()=>{\n      var page = $(\"#ep_profile_modal_user_list\").attr(\"data-page\") || 1;\n      var pageLoaded = $(\"#ep_profile_modal_user_list\").attr(\"data-pageLoaded\") || false;\n      const online_list_selector = $('#ep_profile_user_list_container');\n\n      if(pageLoaded!==\"true\"){\n        $.ajax({\n          url: `/static/${pad.getPadId()}/pluginfw/ep_profile_modal/getContributors/${page}/`,\n          type: 'get',\n          data: {},\n          contentType: false,\n          processData: false,\n          beforeSend() {\n            // setting a timeout\n            //$('#contributorsLoading').show();\n            $('#ep_profile_user_list_container').css({\"display\":\"none\"})\n            $(\"#ep_profile_modal_load_more_contributors\").css({\"display\":\"none\"})\n            online_list_selector.css({\"display\":\"none\"})\n          },\n          error(xhr) { // if error occured\n            $('#contributorsLoading').css({\"display\":\"none\"});\n            online_list_selector.css({\"display\":\"block\"})\n          },\n          success(response) {\n            online_list_selector.css({\"display\":\"block\"})\n            $('#contributorsLoading').css({\"display\":\"none\"});\n            $('#ep_profile_user_list_container').css({\"display\":\"block\"})\n            $(\"#ep_profile_modal_user_list\").attr(\"data-pageLoaded\",\"true\")\n            const onlineUsers = pad.collabClient.getConnectedUsers();\n            contributors.manageOnlineOfflineUsers(response.data, onlineUsers, pad.getUserId(),response.lastPage);\n          },\n\n        });\n      }\n\n      \n    })\n\n    $(\"#ep_profile_modal_load_more_contributors\").on(\"click\",()=>{\n      var page = $(\"#ep_profile_modal_user_list\").attr(\"data-page\") || 1;\n      page++;\n      $.ajax({\n        url: `/static/${pad.getPadId()}/pluginfw/ep_profile_modal/getContributors/${page}/`,\n        type: 'get',\n        data: {},\n        contentType: false,\n        processData: false,\n        beforeSend() {\n          // setting a timeout\n          $('#loadMoreLoading').show();\n          $(\"#ep_profile_modal_load_more_contributors\").css({\"display\":\"none\"})\n          \n        },\n        error(xhr) { // if error occured\n          $('#loadMoreLoading').hide();\n          $(\"#ep_profile_modal_load_more_contributors\").css({\"display\":\"block\"})\n\n        },\n        success(response) {\n          $(\"#ep_profile_modal_load_more_contributors\").css({\"display\":\"block\"})\n          $('#loadMoreLoading').hide();\n          $(\"#ep_profile_modal_user_list\").attr(\"data-page\",page)\n          const onlineUsers = pad.collabClient.getConnectedUsers();\n          contributors.manageOnlineOfflineUsers(response.data, onlineUsers, pad.getUserId(),response.lastPage);\n        },\n\n      });\n \n    })\n\n    $('#userlist_count,#ep_profile_modal_user_list_close').on('click', () => {\n      if ($('#ep_profile_modal_user_list').hasClass('ep_profile_modal-show')) {\n        $('#ep_profile_modal_user_list').removeClass('ep_profile_modal-show');\n        shared.hideGeneralOverlay();\n      } else {\n        shared.showGeneralOverlay();\n        $('#ep_profile_modal_user_list').addClass('ep_profile_modal-show');\n      }\n    });\n\n    $('#ep_profile_modal_verification').on('click', function () {\n      const verificationStatus = $(this).attr('data-verification-status');\n      const oldText = $(this).text();\n      if (verificationStatus != 'true') {\n        $.ajax({\n          url: `/static/${pad.getPadId()}/pluginfw/ep_profile_modal/sendVerificationEmail/${pad.getUserId()}/null/null`,\n          type: 'get',\n          data: {},\n          contentType: false,\n          processData: false,\n          beforeSend() {\n            // setting a timeout\n            const image_url = '../static/plugins/ep_profile_modal/static/dist/img/loading.gif';\n\n            $('#ep_profile_modal_verification').text('Sending...');\n          },\n          error(xhr) { // if error occured\n            $('#ep_profile_modal_verification').text('Error');\n            setTimeout(() => {\n              $('#ep_profile_modal_verification').text(oldText);\n            }, 2000);\n          },\n          success(response) {\n            $('#ep_profile_modal_verification').text('Verification email has been sent.');\n            $('#ep_profile_modal_verification').attr('data-verification-status', 'true');\n          },\n\n        });\n      }\n      return false;\n    });\n    $('#ep_profile_modal_share').on('click', () => {\n      const dummy = document.createElement('input');\n      const text = window.location.href;\n\n      document.body.appendChild(dummy);\n      dummy.value = text;\n      dummy.select();\n      document.execCommand('copy');\n      document.body.removeChild(dummy);\n      $.gritter.add({\n        text: 'Link copied to clipboard',\n      });\n    });\n\n    $('#ep-profile-button').on('click', () => {\n      if (window.user_status == 'login') {\n        if ($('#ep_profile_modal').hasClass('ep_profile_modal-show')) {\n          $('#ep_profile_modal').removeClass('ep_profile_modal-show');\n        } else {\n          $('#ep_profile_modal').addClass('ep_profile_modal-show');\n          $('#online_ep_profile_modal_status').show();\n          $('#offline_ep_profile_modal_status').hide();\n          shared.showGeneralOverlay();\n        }\n      } else {\n        // ($('#ep_profile_modal_ask').hasClass('ep_profile_modal-show'))?\n        // $('#ep_profile_modal_ask').removeClass('ep_profile_modal-show')\n        // :\n        // $('#ep_profile_modal_ask').addClass('ep_profile_modal-show')\n        profileForm.resetModal();\n\n        profileForm.showModal();\n      }\n    });\n\n    $('#ep_profile_modal_close').on('click', () => {\n      if ($('#ep_profile_modal').hasClass('ep_profile_modal-show')) {\n        $('#ep_profile_modal').removeClass('ep_profile_modal-show');\n        shared.hideGeneralOverlay();\n      } else {\n        shared.showGeneralOverlay();\n        $('#ep_profile_modal').addClass('ep_profile_modal-show');\n      }\n    });\n    $('#ep_profile_modal_close_ask').on('click', () => {\n      ($('#ep_profile_modal_ask').hasClass('ep_profile_modal-show'))\n        ? $('#ep_profile_modal_ask').removeClass('ep_profile_modal-show')\n        :\t\t$('#ep_profile_modal_ask').addClass('ep_profile_modal-show');\n    });\n\n\n    $('#ep_profile_modal_signout').on('click', () => {\n      profileForm.resetModal();\n\n      const userId = pad.getUserId();\n      const padId = pad.getPadId();\n      localStorage.setItem(\"formStatus\",'')\n      clientVars.ep_profile_modal.user_status = __LOGOUT\n\n      window.user_status = 'out';\n      const message = {\n        type: 'ep_profile_modal',\n        action: 'ep_profile_modal_logout',\n        email: $('#ep_profile_hidden_email').val(),\n        userId,\n        padId,\n\n      };\n      clientVars.ep_profile_modal.user_status = __LOGOUT\n      pad.collabClient.sendMessage(message); // Send the chat position message to the server\n      $('#ep_profile_modal').removeClass('ep_profile_modal-show');\n      $('#online_ep_profile_modal_status').hide();\n      $('#offline_ep_profile_modal_status').show();\n      // $('#ep_profile_modal_ask').addClass('ep_profile_modal-show')\n      syncData.resetProfileModalFields();\n      // $('#ep_profile_modal').addClass('ep_profile_modal-show')\n      // shared.showGeneralOverlay()\n      shared.hideGeneralOverlay();\n      // shared.sendSignOutMessage(userId,padId)\n      $(`.avatar[data-id=\"user_${userId}\"]`).attr({style: ''});\n      helper.userLogout();\n    });\n\n\n    // upload image profile\n    $('#profile_file').on('change', (e) => {\n      const userId = pad.getUserId();\n      const fd = new FormData();\n      const files = $('#profile_file')[0].files[0];\n      fd.append('file', files);\n      if (!files) return;\n      $.ajax({\n        url: `/static/${clientVars.padId}/pluginfw/ep_profile_modal/upload/${userId}`,\n        type: 'post',\n        data: fd,\n        contentType: false,\n        processData: false,\n        beforeSend() {\n          // setting a timeout\n          helper.refreshLoadingImage(userId, clientVars.padId);\n        },\n        error(xhr) { // if error occured\n          helper.refreshUserImage(userId, clientVars.padId);\n        },\n        success(response) {\n          helper.refreshUserImage(userId, clientVars.padId);\n        },\n\n      });\n    });\n\n    $('#ep_profile_modal_submit').on('click', () => {\n      const username = $('#ep_profile_modal_username').val();\n      const email = $('#ep_profile_modal_email').val();\n\n      shared.loginByEmailAndUsername(username, email);\n    });\n\n    $('#ep_profile_modal_login').on('click', () => {\n      const username = $('#ep_profile_modal-username').val();\n      const email = $('#ep_profile_modal-email').val();\n\n      shared.loginByEmailAndUsername(username, email);\n      $('#ep_profile_modal').removeClass('ep_profile_modal-show');\n    });\n\n    $('#ep_profile_general_overlay').on('click', () => {\n      shared.hideGeneralOverlay();\n    });\n\n    return [];\n  };\n  return postAceInit;\n})();\n","// var contributors = require('./contributors/contributors');\n// var profileForm = require('./profileForm/main');\n// var usersProfileSection = require('./userProfileSection/userProfileSection');\n\n\nconst aceInitialized = (() => {\n  const aceInitialized = (hook, context) => {\n\n    const bindEvent= function(element, eventName, eventHandler) {\n      if (element.addEventListener){\n          element.addEventListener(eventName, eventHandler, false);\n      } else if (element.attachEvent) {\n          element.attachEvent('on' + eventName, eventHandler);\n      }\n    }\n    bindEvent(window,'message',\n    function(e) {\n      const eventName = e.data.eventName;\n      const data = e.data.data;\n\n      if(eventName=='showEtherpadModal'){\n        profileForm.showModal()\n      }\n      if(eventName=='showProfileDetailModal'){\n        $('#usersIconList').trigger('avatarClick', data.userId);\n      }\n    })\n\n\n    const userId = pad.getUserId();\n    // if (!window.matchMedia('(max-width: 720px)').matches) {\n    profileForm.initModal(clientVars);\n    // if (clientVars.ep_profile_modal.form_passed !== true) {\n    //   profileForm.showModal();\n    // }\n    if (localStorage.getItem(\"formPassed\") != \"yes\")\n      profileForm.allEventListener()\n    //   profileForm.showModal();\n    \n    // / user profile section\n    usersProfileSection.initiate(clientVars);\n    // / user profile section\n\n    //template generate \n    $('body').append(modal);\n    // /\n    var modal = $('#ep_profile_modal_script').tmpl(clientVars);\n    $('body').append(modal);\n    // /\n    modal = $('#ep_profile_modal_user_list_script').tmpl(clientVars);\n    $('body').append(modal);\n    // /general\n    modal = $('#ep_profile_modal_general_script').tmpl();\n    $('body').append(modal);\n    //template generate \n\n    const style = `background : url(/static/getUserProfileImage/${userId}/${clientVars.padId}) no-repeat 50% 50% ; background-size :32px`;\n    const onlineUsers = pad.collabClient.getConnectedUsers();\n    const usersListHTML = contributors.createHTMLforUserList(clientVars.ep_profile_modal.contributed_authors_count, onlineUsers, clientVars.padId, clientVars.ep_profile_modal.verified);\n\n    $('#pad_title').append(`<div class='ep_profile_modal_header'><div class='userlist' id='userlist'>${usersListHTML}</div><div class='ep-profile-button' id='ep-profile-button'><div id='ep-profile-image' style='${style}' /></div></div>`);\n\n    if (clientVars.ep_profile_modal.user_status == '2') {\n      window.user_status = 'login';\n    } else {\n      window.user_status = 'out';\n      // if (clientVars.ep_profile_modal.form_passed == true) {\n      //   setTimeout(() => {\n      //     profileForm.showModal();\n\n      //     // $('#ep_profile_modal_ask').addClass('ep_profile_modal-show')\n      //   }, 1000);\n      // }\n    }\n    // We were telling to server that we are ready to get data that due to large data need to be request base over HTTP + just for analytics\n    const message = {\n      type: 'ep_profile_modal',\n      action: 'ep_profile_modal_ready',\n      userId,\n      padId: clientVars.padId,\n      data: clientVars.ep_profile_modal,\n    };\n    pad.collabClient.sendMessage(message);\n    if (clientVars.ep_profile_modal.userName == 'Anonymous') {\n      pad.collabClient.updateUserInfo({\n        userId,\n        name: 'Anonymous',\n        colorId: '#b4b39a',\n      });\n    }\n    // }\n\n\n    return [];\n  };\n\n  return aceInitialized;\n})();\n","// var helper = require('./helper');\n// var contributors = require('./contributors/contributors');\n// var syncData = require('./syncData');\n// var shared = require('./shared');\n\n\nconst handleClientMessage = (() => {\n  const handleClientMessage_USER_NEWINFO = (hook, context) => {\n    const padId = pad.getPadId();\n\n    contributors.increaseUserFromList(context.payload.userId, padId);\n    return [];\n  };\n  const handleClientMessage_USER_LEAVE = (hook, context) => {\n    const padId = pad.getPadId();\n\n    contributors.decreaseUserFromList(context.payload.userId, padId);\n    return [];\n  };\n  const handleClientMessage_CUSTOM = (hook, context, cb) => {\n    const current_user_id = pad.getUserId();\n\n    if (context.payload.action == 'totalUserHasBeenChanged') {\n      const totalUserCount = context.payload.totalUserCount;\n      $('#userlist_count').text(totalUserCount);\n      // var style = \"background : url(/static/getUserProfileImage/\"+current_user_id+\"/\"+ clientVars.padId +\") no-repeat 50% 50% ; background-size :32px\"\n      // var onlineUsers = pad.collabClient.getConnectedUsers();\n      // var usersListHTML = contributors.createHTMLforUserList( context.payload.totalUserCount,onlineUsers,context.payload.padId,\n      // context.payload.verified_users)\n      // $(\"#pad_title\").append(\"<div class='ep_profile_modal_header'><div class='userlist' id='userlist'>\"+usersListHTML+\"</div><div class='ep-profile-button' id='ep-profile-button'><div id='ep-profile-image' style='\"+style+\"' /></div></div>\")\n      // var tmplObject = {\n      // \tonlineUsers : onlineUsers.reverse(),\n      // \ttotalUserCount : context.payload.totalUserCount ,\n      // \tpadId : context.payload.padId,\n      // \tverified_users : context.payload.verified_users\n      // }\n      // modal = $(\"#ep_profile_modal_user_list_script\").tmpl(tmplObject,\n      // \t{\n      // \t  isInArray: function (items , needle) {\n      // \t\treturn items.indexOf(needle);\n      // \t  }\n      // \t});\n    }\n\n    // if (context.payload.action == 'EP_PROFILE_MODAL_PROMPT_DATA') { // when we quess user by exist data prompt\n    //   // if (confirm('Do you want to prefill your existing data?')) {\n    //   // \t//for set image\n    //   // \tif (context.payload.data.image){\n    //   // \t\tvar message = {\n    //   // \t\t\ttype : 'ep_profile_modal',\n    //   // \t\t\taction : \"ep_profile_modal_prefill\" ,\n    //   // \t\t\tuserId :  context.payload.userId,\n    //   // \t\t\tdata: context.payload.data,\n    //   // \t\t\tpadId : context.payload.padId\n    //   // \t\t  }\n    //   // \t\tpad.collabClient.sendMessage(message);  // Send the chat position message to the server\n    //   // \t}\n\n    //   // \t$(\"#ep_profile_modal_homepage\").val(context.payload.data.homepage)\n    //   // \t$(\"#ep_profile_modalForm_about_yourself\").val(context.payload.data.about)\n    //   // \t$(\"#profile_modal_selected_image\").css({\"background-position\":\"50% 50%\",\n    //   // \t\"background-image\":\"url(\"+context.payload.data.image+\")\" , \"background-repeat\":\"no-repeat\",\"background-size\": \"64px\"\n    //   // \t});\n    //   // \t// Save it!\n    //   // }else{\n    //   // \tvar message = {\n    //   // \t\ttype : 'ep_profile_modal',\n    //   // \t\taction : \"ep_profile_modal_prefill\" ,\n    //   // \t\tuserId :  context.payload.userId,\n    //   // \t\tdata: {\n    //   // \t\t\timage:\"\"\n    //   // \t\t},\n    //   // \t\tpadId : context.payload.padId\n    //   // \t  }\n    //   // \tpad.collabClient.sendMessage(message);\n    //   // }\n    //   // var image_url = `/static/getUserProfileImage/${context.payload.userId}/${context.payload.padId}?t=${new Date().getTime()}`;\n    //   // $('#ep_profile_modal_homepage').val(context.payload.data.homepage);\n    //   // $('#ep_profile_modalForm_about_yourself').val(context.payload.data.about);\n    //   // $('#profile_modal_selected_image').css({'background-position': '50% 50%',\n    //   //   'background-image': `url(${image_url})`, 'background-repeat': 'no-repeat', 'background-size': '64px'});\n    // }\n    \n    // if (context.payload.action == 'EP_PROFILE_USERS_LIST') {\n    //   const onlineUsers = pad.collabClient.getConnectedUsers();\n    //   contributors.manageOnlineOfflineUsers(context.payload.list, onlineUsers, pad.getUserId());\n    // }\n\n    if (context.payload.action == 'EP_PROFILE_USER_IMAGE_CHANGE') { // when user A change image and user B want to know\n      helper.refreshGeneralImage(context.payload.userId, context.payload.padId);\n    }\n\n    if (context.payload.action == 'EP_PROFILE_USER_LOGOUT_UPDATE') {\n      var image_url = `/static/getUserProfileImage/${context.payload.userId}/${context.payload.padId}?t=${new Date().getTime()}`;\n\n      if (current_user_id == context.payload.userId) {\n        helper.refreshUserImage(current_user_id, context.payload.padId);\n        helper.logoutCssFix(current_user_id);\n\n        //\t\t\t$(\"#ep_profile_modal_section_info_name\").text(context.payload.userName);\n      } else {\n        helper.refreshGeneralImage(context.payload.userId, context.payload.padId);\n      }\n\n      syncData.resetGeneralFields(context.payload.userId);\n\n      // making user as anonymous\n      var online_anonymous_selector = contributors.isThereOnlineAnonymous();\n      if (online_anonymous_selector) {\n        contributors.increaseToOnlineAnonymous(online_anonymous_selector, context.payload.userId);\n      } else {\n        contributors.createOnlineAnonymousElement(context.payload.userId, 'Anonymous', image_url, {});\n      }\n\n      contributors.removeUserElementInUserList(context.payload.userId);\n    }\n\n    // if (context.payload.action == 'EP_PROFILE_MODAL_SEND_MESSAGE_TO_CHAT') {\n    //   shared.addTextChatMessage(context.payload.msg);\n    // }\n    if (context.payload.action == 'EP_PROFILE_USER_LOGIN_UPDATE') {\n      // ///////////////// related to user list when user has been loginned\n      var online_anonymous_selector = contributors.isThereOnlineAnonymous();\n      if (context.payload.userName == 'Anonymous') {\n        if (online_anonymous_selector) {\n          contributors.increaseToOnlineAnonymous(online_anonymous_selector, context.payload.userId);\n        } else {\n          contributors.createOnlineAnonymousElement(context.payload.userId, context.payload.userName, context.payload.img, context.payload.user);\n        }\n\n        contributors.removeUserElementInUserList(context.payload.userId);\n      } else {\n        if (online_anonymous_selector) {\n          if (contributors.checkUserExistInOnlineAnonymous(online_anonymous_selector, context.payload.userId)) {\n            contributors.decreaseFromOnlineAnonymous(online_anonymous_selector, context.payload.userId);\n          }\n        }\n        contributors.createOnlineUserElementInUserList(context.payload.userId, context.payload.userName, context.payload.img, current_user_id, context.payload.user);\n      }\n\n\n      // change owner loginned img at top of page\n      if (current_user_id == context.payload.userId) {\n        helper.refreshUserImage(current_user_id, context.payload.padId);\n        syncData.syncAllFormsData(context.payload.userId, context.payload.user);\n\n        // $(\"#ep_profile_modal_section_info_name\").text(context.payload.userName);\n      } else {\n        helper.refreshGeneralImage(context.payload.userId, context.payload.padId);\n        syncData.syncGeneralFormsData(context.payload.userId, context.payload.user);\n      }\n    }\n\n    return [];\n  };\n  return {\n    handleClientMessage_USER_NEWINFO,\n    handleClientMessage_USER_LEAVE,\n    handleClientMessage_CUSTOM,\n\n  };\n})();\n","const helper = (() => {\n  const userLogin = function (data) {\n    window.user_status = 'login';\n    clientVars.ep_profile_modal.user_status = __LOGIN\n\n    pad.collabClient.updateUserInfo({\n      userId: pad.getUserId(),\n      name: data.username,\n      colorId: '#b4b39a',\n    });\n  };\n  const userLogout = function () {\n    window.user_status = 'logout';\n    clientVars.ep_profile_modal.user_status = __LOGOUT\n\n    \n    pad.collabClient.updateUserInfo({\n      userId: pad.getUserId(),\n      name: 'Anonymous',\n      colorId: '#b4b39a',\n    });\n  };\n  const logoutCssFix = function (userId) {\n    const avatar = $(`.avatarImg[data-id=\"user_${userId}\"]`);\n    if (avatar.length) {\n      avatar.css({'margin': '0px', 'box-shadow': 'none'});\n    }\n  };\n  const refreshUserImage = function (userId, padId) {\n    const image_url = `/static/getUserProfileImage/${userId}/${padId}?t=${new Date().getTime()}`;\n    const avatar = $(`.avatarImg[data-id=\"user_${userId}\"]`);\n    if (avatar.length) {\n      avatar.css({\n        'background-position': '50% 50%',\n        'background-image': `url(${image_url})`,\n        'background-repeat': 'no-repeat',\n        'background-size': '28px',\n        'background-color': '#fff',\n      });\n    }\n    $('.ep_profile_modal_section_image_big_ask').css({\n      'background-position': '50% 50%',\n      'background-image': `url(${image_url})`,\n      'background-repeat': 'no-repeat',\n    });\n    $('.ep_profile_modal_section_image_big').css({\n      'background-position': '50% 50%',\n      'background-image': `url(${image_url})`,\n      'background-repeat': 'no-repeat',\n      'background-size': '72px',\n    });\n    $('#ep-profile-image').css({\n      'background-position': '50% 50%',\n      'background-image': `url(${image_url})`,\n      'background-repeat': 'no-repeat',\n      'background-size': '32px',\n    });\n\n    const user_selector = $(\n        `.ep_profile_user_row[data-id=\"user_list_${userId}\"]`\n    );\n    if (user_selector.length) {\n      user_selector\n          .children('.ep_profile_user_img')\n          .css({\n            'background-position': '50% 50%',\n            'background-image': `url(${image_url})`,\n            'background-repeat': 'no-repeat',\n            'background-size': '69px',\n          });\n    }\n\n    const rocketChatOnlineUser = $(\n      `.avatar[data-id=\"${userId}\"]`\n    );\n    if (rocketChatOnlineUser.length) {\n      rocketChatOnlineUser\n          .children('.ep_rocketchat_onlineUsersList_avatarImg')\n          .css({\n            'background-position': '50% 50%',\n            'background-image': `url(${image_url})`,\n            'background-repeat': 'no-repeat',\n            'background-size': '28px',\n          });\n    }\n  };\n\n  const refreshLoadingImage = function (userId, padId) {\n    const image_url =\n\t\t\t'../static/plugins/ep_profile_modal/static/dist/img/loading.gif';\n    const avatar = $(`.avatarImg[data-id=\"user_${userId}\"]`);\n    if (avatar.length) {\n      avatar.css({\n        'background-position': '50% 50%',\n        'background-image': `url(${image_url})`,\n        'background-repeat': 'no-repeat',\n        'background-size': '28px',\n        'background-color': '#fff',\n      });\n    }\n    $('.ep_profile_modal_section_image_big_ask').css({\n      'background-position': '50% 50%',\n      'background-image': `url(${image_url})`,\n      'background-repeat': 'no-repeat',\n    });\n    $('.ep_profile_modal_section_image_big').css({\n      'background-position': '50% 50%',\n      'background-image': `url(${image_url})`,\n      'background-repeat': 'no-repeat',\n      'background-size': '72px',\n    });\n    $('#ep-profile-image').css({\n      'background-position': '50% 50%',\n      'background-image': `url(${image_url})`,\n      'background-repeat': 'no-repeat',\n      'background-size': '32px',\n    });\n\n    const user_selector = $(\n        `.ep_profile_user_row[data-id=\"user_list_${userId}\"]`\n    );\n    if (user_selector.length) {\n      user_selector\n          .children('.ep_profile_user_img')\n          .css({\n            'background-position': '50% 50%',\n            'background-image': `url(${image_url})`,\n            'background-repeat': 'no-repeat',\n            'background-size': '69px',\n          });\n    }\n  };\n\n  const refreshGeneralImage = function (userId, padId) {\n    const image_url = `/static/getUserProfileImage/${userId}/${padId}?t=${new Date().getTime()}`;\n    const avatar = $(`.avatarImg[data-id=\"user_${userId}\"]`);\n    if (avatar.length) {\n      avatar.css({\n        'background-position': '50% 50%',\n        'background-image': `url(${image_url})`,\n        'background-repeat': 'no-repeat',\n        'background-size': '28px',\n        'background-color': '#fff',\n      });\n    }\n    const user_selector = $(\n        `.ep_profile_user_row[data-id=\"user_list_${userId}\"]`\n    );\n    if (user_selector.length) {\n      user_selector\n          .children('.ep_profile_user_img')\n          .css({\n            'background-position': '50% 50%',\n            'background-image': `url(${image_url})`,\n            'background-repeat': 'no-repeat',\n            'background-size': '69px',\n          });\n    }\n  };\n\n  return {\n    userLogin,\n    userLogout,\n    logoutCssFix,\n    refreshUserImage,\n    refreshLoadingImage,\n    refreshGeneralImage,\n  };\n})();\n","// var helper = require('./helper');\nconst shared = (() => {\n  const resetAllProfileImage = function (userId, padId) {\n    $.ajax({\n      url: `/static/${padId}/pluginfw/ep_profile_modal/resetProfileImage/${userId}`,\n      type: 'get',\n      data: {},\n      contentType: false,\n      processData: false,\n      beforeSend() {\n        helper.refreshLoadingImage(userId, padId);\n      },\n      error(xhr) { // if error occured\n        helper.refreshUserImage(userId, padId);\n      },\n      success(response) {\n        helper.refreshUserImage(userId, padId);\n      },\n\n    });\n  };\n  const sendSignOutMessage = function (userId, padId) {\n    const message = {\n      type: 'ep_profile_modal',\n      action: 'ep_profile_modal_send_signout_message',\n      userId,\n      padId,\n\n    };\n    pad.collabClient.sendMessage(message); // Send the chat position message to the server\n  };\n  const addTextChatMessage = function (msg) {\n    const authorClass = `author-${msg.userId.replace(/[^a-y0-9]/g, (c) => {\n      if (c === '.') return '-';\n      return `z${c.charCodeAt(0)}z`;\n    })}`;\n\n    // create the time string\n    let minutes = `${new Date(msg.time).getMinutes()}`;\n    let hours = `${new Date(msg.time).getHours()}`;\n    if (minutes.length === 1) minutes = `0${minutes}`;\n    if (hours.length === 1) hours = `0${hours}`;\n    const timeStr = `${hours}:${minutes}`;\n\n    const html = `<p><span class='time ${authorClass}'>${timeStr}</span> ${msg.text}</p>`;\n\n    $(document).find('#chatbox #chattext').append(html);\n    scrollDownToLastChatText('#chatbox #chattext');\n  };\n  const scrollDownToLastChatText = function scrollDownToLastChatText(selector) {\n    const $element = $(selector);\n    if ($element.length <= 0 || !$element[0]) return true;\n    $element.animate({scrollTop: $element[0].scrollHeight}, {duration: 400, queue: false});\n  };\n\n  const loginByEmailAndUsernameWithoutValidation = function (username, email, suggestData) {\n    clientVars.ep_profile_modal.user_status = __LOGIN\n\n    window.user_status = 'login';\n    const message = {\n      type: 'ep_profile_modal',\n      action: 'ep_profile_modal_login',\n      email,\n      userId: pad.getUserId(),\n      name: username,\n      padId: pad.getPadId(),\n      suggestData,\n    };\n    pad.collabClient.sendMessage(message); // Send the chat position message to the server\n  };\n  const loginByEmailAndUsername = function (username, email) {\n    if (username == '' || !isEmail(email)) {\n      if (!isEmail(email)) {\n        $('#ep_profile_modal_email').focus();\n        $('#ep_profile_modal_email').addClass('ep_profile_modal_validation_error');\n      }\n      return false;\n    } else {\n      $('#ep_profile_modal_email').removeClass('ep_profile_modal_validation_error');\n      clientVars.ep_profile_modal.user_status = __LOGIN\n\n      window.user_status = 'login';\n      // pad.collabClient.updateUserInfo({\n      //     userId :  pad.getUserId() ,\n      //     name: username,\n      //     colorId: \"#b4b39a\"\n      // } )\n      const message = {\n        type: 'ep_profile_modal',\n        action: 'ep_profile_modal_login',\n        email,\n        userId: pad.getUserId(),\n        name: username,\n        padId: pad.getPadId(),\n        suggestData: false,\n\n      };\n      pad.collabClient.sendMessage(message); // Send the chat position message to the server\n      // $('#ep_profile_modal').addClass('ep_profile_modal-show')\n      helper.userLogin({\n        email,\n        username,\n      });\n\n      $('#online_ep_profile_modal_status').show();\n      $('#offline_ep_profile_modal_status').hide();\n      // $('#ep_profile_modal_ask').removeClass('ep_profile_modal-show')\n      // $(\"#ep_profile_modal_section_info_email\").text(email)\n      // $(\"#ep_profile_modal_section_info_name\").text(username)\n    }\n  };\n\n\n  const isEmail = function (email) {\n    const regex = /^([a-zA-Z0-9_.+-])+\\@(([a-zA-Z0-9-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    if (email == '') { return true; } else { return regex.test(email); }\n  };\n\n  const IsValid = function (url) {\n    const pattern = /^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$/;\n    return pattern.test(url);\n  };\n\n\n  const getFormData = function ($form) {\n    const unindexed_array = $form.serializeArray();\n    const indexed_array = {};\n\n    $.map(unindexed_array, (n, i) => {\n      indexed_array[n.name] = n.value;\n    });\n\n    return indexed_array;\n  };\n  const setFormData = function ($form, indexed_array) {\n    $.map(indexed_array, (n, i) => {\n      $(`#${i}`).val(n);\n    });\n  };\n\n  const isUsername = function (username) {\n    const regex = /^([a-zA-Z0-9_.+-])/;\n    return regex.test(username);\n  };\n  const showGeneralOverlay = function () {\n    $('#ep_profile_general_overlay').addClass('ep_profile_formModal_overlay_show');\n    $('#ep_profile_general_overlay').css({display: 'block'});\n  };\n\n  const hideGeneralOverlay = function () {\n    $('#ep_profile_general_overlay').removeClass('ep_profile_formModal_overlay_show');\n    $('#ep_profile_general_overlay').css({display: 'none'});\n    $('#ep_profile_modal').removeClass('ep_profile_modal-show');\n    $('#ep_profile_modal_user_list').removeClass('ep_profile_modal-show');\n    $('#ep_profile_users_profile').removeClass('ep_profile_formModal_show');\n  };\n\n  const getValidUrl = function (url) {\n    if (url == '' || !url) return '';\n    let newUrl = window.decodeURIComponent(url);\n    newUrl = newUrl.trim().replace(/\\s/g, '');\n\n    if (/^(:\\/\\/)/.test(newUrl)) {\n      return `http${newUrl}`;\n    }\n    if (!/^(f|ht)tps?:\\/\\//i.test(newUrl)) {\n      return `http://${newUrl}`;\n    }\n\n    return newUrl;\n  };\n\n  const getMonthName = function (monthNumber) {\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    return months[monthNumber - 1];\n  };\n  const getCustomeFormatDate = function (date) {\n    if (date == 'today' || date == 'yesterday') return `Last seen ${date}`;\n    date = date.split('-');\n    return `Last seen ${date[2]} ${getMonthName(date[1])} ${date[0]}`;\n  };\n  const getCustomDate = function (date) {\n    if (date == 'today' || date == 'yesterday') return `Last seen ${date}`;\n    date = date.split('-');\n    return `Last seen ${date[2]}/${date[1]}/${date[0]}`;\n  };\n\n  return {\n    resetAllProfileImage,\n    sendSignOutMessage,\n    addTextChatMessage,\n    scrollDownToLastChatText,\n    loginByEmailAndUsernameWithoutValidation,\n    loginByEmailAndUsername,\n    isEmail,\n    IsValid,\n    getFormData,\n    setFormData,\n    isUsername,\n    showGeneralOverlay,\n    hideGeneralOverlay,\n    getValidUrl,\n    getMonthName,\n    getCustomeFormatDate,\n    getCustomDate,\n\n  };\n})();\n","// var shared = require('./shared');\n\n\nconst syncData = (() => {\n  const syncAllFormsData = function (userId, data) {\n    if (data === undefined)\n      return;\n    // users List\n    const user_selector = $(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`);\n    if (user_selector.length) {\n      const usernameBox = user_selector.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username');\n      usernameBox.children('.ep_profile_user_list_username_text').text(data.username);\n\n      user_selector.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_profile_desc').text(data.about);\n      if (data.homepage) {\n        const homepageElem = usernameBox.children('.ep_profile_contributor_link_container');\n        homepageElem.attr({href: shared.getValidUrl(data.homepage)});\n      }\n      usernameBox.children('.ep_profile_contributor_status').text('Online');\n    }\n    // users list\n\n\n    // profile card\n\n    // $(\"#ep_profile_users_profile_name\").text(data.username)\n    // $(\"#ep_profile_users_profile_desc\").text(data.about)\n    // $(\"#ep_profile_users_profile_homepage\").attr({\"href\":data.homepage})\n    // $(\"#ep_profile_users_profile_homepage\").text(data.homepage)\n\n    // profile card\n\n    // profile modal\n\n    $('#ep_profile_modal-username').val(data.username);\n    $('#ep_profile_modal-about').val(data.about);\n    $('#ep_profile_modal-homepage').val(data.homepage);\n    $('#ep_profile_modal-email').val(data.email);\n    if (data.verified == true) {\n      $('#ep_profile_modal_verification').attr('data-verification-status', 'true');\n      $('#ep_profile_modal_verification').text('Verified');\n    } else {\n      $('#ep_profile_modal_verification').attr('data-verification-status', 'false');\n      $('#ep_profile_modal_verification').text('Send verification email');\n    }\n\n    // if(data.push_notification == false)\n    //     $(\"#ep_profile_modal_push_notification\").attr('checked','')\n    // else\n    //     $(\"#ep_profile_modal_push_notification\").attr('checked','checked')\n\n    // profile modal\n  };\n  const syncGeneralFormsData = function (userId, data) {\n    const user_selector = $(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`);\n    if (user_selector.length) {\n      const usernameBox = user_selector.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username');\n      usernameBox.children('.ep_profile_user_list_username_text').text(data.username);\n\n      user_selector.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_profile_desc').text(data.about);\n\n      const homepageElem = usernameBox.children('.ep_profile_contributor_link_container');\n      homepageElem.attr({href: shared.getValidUrl(data.homepage)});\n\n\n      usernameBox.children('.ep_profile_contributor_status').text('Online');\n    }\n  };\n\n\n  const resetProfileModalFields = function () {\n    $('#ep_profile_modal-username').val('');\n    $('#ep_profile_modal-about').val('');\n    $('#ep_profile_modal-homepage').val('');\n    $('#ep_profile_modal-email').val('');\n\n    $('#ep_profile_modalForm_name').val('');\n    $('#ep_profile_modalForm_email').val('');\n    $('#ep_profile_modal_homepage').val('');\n    $('#ep_profile_modalForm_about_yourself').val('');\n  };\n  const resetGeneralFields = function (userId) {\n    const user_selector = $(`.ep_profile_user_row[data-id=\"user_list_${userId}\"]`);\n    if (user_selector.length) {\n      const usernameBox = user_selector.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_username');\n      usernameBox.children('.ep_profile_user_list_username_text').text('');\n      user_selector.children('.ep_profile_user_list_profile_userDesc').children('.ep_profile_user_list_profile_desc').text('');\n      const homepageElem = usernameBox.children('.ep_profile_contributor_link_container');\n      homepageElem.attr({href: ''});\n      usernameBox.children('.ep_profile_contributor_status').text('');\n    }\n  };\n\n  return {\n    syncAllFormsData,\n    syncGeneralFormsData,\n    resetProfileModalFields,\n    resetGeneralFields,\n  };\n})();\n"]}